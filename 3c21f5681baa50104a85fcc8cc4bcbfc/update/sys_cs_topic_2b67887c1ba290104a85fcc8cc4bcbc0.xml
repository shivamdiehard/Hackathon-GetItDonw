<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic">
    <sys_cs_topic action="INSERT_OR_UPDATE">
        <active>true</active>
        <applicability>true</applicability>
        <cb_topic_id display_value="COVID Prediction">ecd10fac1bae50104a85fcc8cc4bcb6c</cb_topic_id>
        <channels/>
        <definition>{"id":"ecd10fac1bae50104a85fcc8cc4bcb6c","name":"COVID Prediction","system_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"COVID Prediction","applicability":"true","category":"","key_phrases":["COVID Prediction"],"variables":[{"name":"all_symptoms","type":"java.lang.Object","init_value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"},{"name":"s","type":"java.lang.Object","init_value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessage('hi there {0}', [vaInputs.first_name]);\n       } else {\n           return gs.getMessage('how are you {0}', [vaInputs.last_name]);\n       }\n    */\n    return '';\n})()\n"},{"name":"respCode","type":"java.lang.Object"},{"name":"predictionResp","type":"java.lang.Object"},{"name":"risk_level","type":"java.lang.Object"},{"name":"noData_96c92ffa57a24388a366cf50e6a08317","type":"java.lang.Object"},{"name":"noData_46691d14b3504085abbb689bad13f809","type":"java.lang.Object"},{"name":"__multipart_total__d0e29a8bdab5404988f4d6f6bad8ab66","type":"java.lang.Object"},{"name":"__multipart_idx__d0e29a8bdab5404988f4d6f6bad8ab66","type":"java.lang.Object"},{"name":"__multipart_valid__d0e29a8bdab5404988f4d6f6bad8ab66","type":"java.lang.Object"},{"name":"__segment_trigger_5335f55c78fd406ca9aa1bfafd2bb02a_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"ID","name":"symptoms","unique":false,"key_phrases":[],"static_enum_list":[],"dynamic_enum_list":{"name":"symptoms","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();var funcObj = {\"customApplies\": function() {return (function() {return true})();},\"applies\": function() {return this.customApplies() &amp;&amp; this.buildOptions().length &gt; 0;},\"buildOptions\": function() {if (!this.customApplies()) { return []; }return [{\"value\":\"cough\",\"label\":gs.getMessageLang(\"Cough\", vaContext.getRequesterLang())},{\"value\":\"fever\",\"label\":gs.getMessageLang(\"Fever\", vaContext.getRequesterLang())},{\"value\":\"diarrhea\",\"label\":gs.getMessageLang(\"Diarrhea\", vaContext.getRequesterLang())},{\"value\":\"fatigue\",\"label\":gs.getMessageLang(\"Fatigue\", vaContext.getRequesterLang())},{\"value\":\"headache\",\"label\":gs.getMessageLang(\"Headache\", vaContext.getRequesterLang())},{\"value\":\"loss_of_smell\",\"label\":gs.getMessageLang(\"Loss of Smell\", vaContext.getRequesterLang())},{\"value\":\"loss_of_taste\",\"label\":gs.getMessageLang(\"Loss of Taste\", vaContext.getRequesterLang())},{\"value\":\"labored_respiration\",\"label\":gs.getMessageLang(\"Trouble breathing\", vaContext.getRequesterLang())},{\"value\":\"wheezes\",\"label\":gs.getMessageLang(\"Wheezing\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function buildNoOptionsArray() {return [{'value': 'no_data', 'label': 'no_data'},{'value': 'no_data', 'label': 'no_data'}];} function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = buildNoOptionsArray();}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = buildNoOptionsArray();}vaVars.noData_96c92ffa57a24388a366cf50e6a08317 = noOptions; return choiceOptions;}})();"}}},{"type":"Boolean","name":"more_symptoms","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"Boolean","name":"high_risk_job","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"Boolean","name":"over_18","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"ID","name":"age","unique":false,"key_phrases":[],"static_enum_list":[],"dynamic_enum_list":{"name":"age","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();var funcObj = {\"customApplies\": function() {return (function() {return true})();},\"applies\": function() {return this.customApplies() &amp;&amp; this.buildOptions().length &gt; 0;},\"buildOptions\": function() {if (!this.customApplies()) { return []; }return [{\"value\":\"25\",\"label\":gs.getMessageLang(\"18-25\", vaContext.getRequesterLang())},{\"value\":\"35\",\"label\":gs.getMessageLang(\"26-35\", vaContext.getRequesterLang())},{\"value\":\"45\",\"label\":gs.getMessageLang(\"36-45\", vaContext.getRequesterLang())},{\"value\":\"60\",\"label\":gs.getMessageLang(\"46-65\", vaContext.getRequesterLang())},{\"value\":\"70\",\"label\":gs.getMessageLang(\"66+\", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function buildNoOptionsArray() {return [{'value': 'no_data', 'label': 'no_data'},{'value': 'no_data', 'label': 'no_data'}];} function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = buildNoOptionsArray();}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = buildNoOptionsArray();}vaVars.noData_46691d14b3504085abbb689bad13f809 = noOptions; return choiceOptions;}})();"}}},{"type":"Boolean","name":"RootDecisionBranch_aced24fcd126901003a1d0f8ea7f1c9e","unique":false,"default_value":"true","key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_e81f504eaf8f455fa7c7e79ae5c838ae","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_fba7a8cf33b8436ea533d4430afe3544","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_TerminateGoal_9220112639ce4866b9de4de86a8b4a65","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_RootDecision_2ced24fc01269010afdc6a030e08649e","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_StartGoal_ec2a4133ddfa4165856fdc9e761b4e6d","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_RootDecisionBranch_6ced24fc582690106474ad337fd8859e","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_OutputPrompt_f77d85ab23cc4000928bfd353f4367db","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_fc949541fffa4fe295bf7be82795219b","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_OutputPrompt_f4a2db3730cc4648b737e1190c481744","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_810835767a33413ea1730c7072b4b32e","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Decision_c29bfa73bb154c8683078ba092599046","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_OutputPrompt_1c27d2db46fa453f8252ed7413a3820a","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_f14fc42be41a4d39bd43b89e58e768a2","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptedAction_274f9731ba83421a9ee54f3c6b188dfb","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_8a9a7162a6a04929b04d476e5ebff194","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_ScriptOutputPrompt_d0e29a8bdab5404988f4d6f6bad8ab66","unique":false,"key_phrases":[],"static_enum_list":[]},{"type":"String","name":"__silent_Branch_a1dd8531d7114053ad84080e9bc16dee","unique":false,"key_phrases":[],"static_enum_list":[]}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_5335f55c78fd406ca9aa1bfafd2bb02a_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_aced24fcd126901003a1d0f8ea7f1c9e\");vaInputs.initialize(\"age\");vaInputs.initialize(\"__silent_Branch_fc949541fffa4fe295bf7be82795219b\");vaInputs.initialize(\"__silent_OutputPrompt_1c27d2db46fa453f8252ed7413a3820a\");vaInputs.initialize(\"__silent_Branch_e81f504eaf8f455fa7c7e79ae5c838ae\");vaInputs.initialize(\"__silent_Decision_RootDecision_2ced24fc01269010afdc6a030e08649e\");vaInputs.initialize(\"over_18\");vaInputs.initialize(\"__silent_ScriptedAction_fba7a8cf33b8436ea533d4430afe3544\");vaInputs.initialize(\"__silent_OutputPrompt_f4a2db3730cc4648b737e1190c481744\");vaInputs.initialize(\"__silent_ScriptedAction_f14fc42be41a4d39bd43b89e58e768a2\");vaInputs.initialize(\"__silent_Branch_8a9a7162a6a04929b04d476e5ebff194\");vaInputs.initialize(\"__silent_ScriptOutputPrompt_d0e29a8bdab5404988f4d6f6bad8ab66\");vaInputs.initialize(\"symptoms\");vaInputs.initialize(\"high_risk_job\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_6ced24fc582690106474ad337fd8859e\");vaInputs.initialize(\"__silent_Decision_c29bfa73bb154c8683078ba092599046\");vaInputs.initialize(\"__silent_TerminateGoal_9220112639ce4866b9de4de86a8b4a65\");vaInputs.initialize(\"__silent_Decision_810835767a33413ea1730c7072b4b32e\");vaInputs.initialize(\"__silent_OutputPrompt_f77d85ab23cc4000928bfd353f4367db\");vaInputs.initialize(\"__silent_StartGoal_ec2a4133ddfa4165856fdc9e761b4e6d\");vaInputs.initialize(\"__silent_ScriptedAction_274f9731ba83421a9ee54f3c6b188dfb\");vaInputs.initialize(\"__silent_Branch_a1dd8531d7114053ad84080e9bc16dee\");vaInputs.initialize(\"more_symptoms\");null;","fields":[{"name":"__silent_Decision_RootDecision_2ced24fc01269010afdc6a030e08649e","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_2ced24fc01269010afdc6a030e08649e\";vaInputs.__silent_Decision_RootDecision_2ced24fc01269010afdc6a030e08649e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_2ced24fc01269010afdc6a030e08649e\";vaInputs.RootDecisionBranch_aced24fcd126901003a1d0f8ea7f1c9e=true;null;"},{"name":"__silent_Branch_RootDecisionBranch_6ced24fc582690106474ad337fd8859e","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_2ced24fc01269010afdc6a030e08649e\" &amp;&amp; ((vaInputs.RootDecisionBranch_aced24fcd126901003a1d0f8ea7f1c9e.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_6ced24fc582690106474ad337fd8859e___RootDecisionBranch_6ced24fc582690106474ad337fd8859e\";vaInputs.__silent_Branch_RootDecisionBranch_6ced24fc582690106474ad337fd8859e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_6ced24fc582690106474ad337fd8859e___RootDecisionBranch_6ced24fc582690106474ad337fd8859e\";null;"},{"name":"__silent_StartGoal_ec2a4133ddfa4165856fdc9e761b4e6d","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_6ced24fc582690106474ad337fd8859e___RootDecisionBranch_6ced24fc582690106474ad337fd8859e\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___ec2a4133ddfa4165856fdc9e761b4e6d\";vaInputs.__silent_StartGoal_ec2a4133ddfa4165856fdc9e761b4e6d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___ec2a4133ddfa4165856fdc9e761b4e6d\";null;"},{"name":"__silent_OutputPrompt_f4a2db3730cc4648b737e1190c481744","applicable":"vaVars.previous_graph_node==\"Start___ec2a4133ddfa4165856fdc9e761b4e6d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Hello___f4a2db3730cc4648b737e1190c481744\";vaInputs.__silent_OutputPrompt_f4a2db3730cc4648b737e1190c481744=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Hello___f4a2db3730cc4648b737e1190c481744\";(function execute() {return gs.getMessageLang(\"Hello! Let me help you determine your risk of having COVID-19\", vaContext.getRequesterLang());})();"},{"name":"__silent_OutputPrompt_1c27d2db46fa453f8252ed7413a3820a","applicable":"vaVars.previous_graph_node==\"Hello___f4a2db3730cc4648b737e1190c481744\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Before we begin..___1c27d2db46fa453f8252ed7413a3820a\";vaInputs.__silent_OutputPrompt_1c27d2db46fa453f8252ed7413a3820a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Before we begin..___1c27d2db46fa453f8252ed7413a3820a\";(function execute() {return gs.getMessageLang(\"Before we begin, we first must confirm that you are over the age of 18\", vaContext.getRequesterLang());})();"},{"name":"over_18","applicable":"vaVars.previous_graph_node==\"Before we begin..___1c27d2db46fa453f8252ed7413a3820a\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Over 18___726adf08a9b443f9ab1294384fd554d6\";gs.getMessageLang(\"Confirm that you are over the age of 18\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Over 18___726adf08a9b443f9ab1294384fd554d6\";null;"},{"name":"__silent_Decision_c29bfa73bb154c8683078ba092599046","applicable":"vaVars.previous_graph_node==\"Over 18___726adf08a9b443f9ab1294384fd554d6\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___c29bfa73bb154c8683078ba092599046\";vaInputs.__silent_Decision_c29bfa73bb154c8683078ba092599046=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___c29bfa73bb154c8683078ba092599046\";null;"},{"name":"__silent_Branch_fc949541fffa4fe295bf7be82795219b","applicable":"vaVars.previous_graph_node==\"Decision___c29bfa73bb154c8683078ba092599046\" &amp;&amp; ((vaInputs.over_18.getValue() == false))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Too Young___fc949541fffa4fe295bf7be82795219b\";vaInputs.__silent_Branch_fc949541fffa4fe295bf7be82795219b=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Too Young___fc949541fffa4fe295bf7be82795219b\";null;"},{"name":"__silent_Branch_a1dd8531d7114053ad84080e9bc16dee","applicable":"vaVars.previous_graph_node==\"Decision___c29bfa73bb154c8683078ba092599046\" &amp;&amp; ((vaInputs.over_18.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"18+___a1dd8531d7114053ad84080e9bc16dee\";vaInputs.__silent_Branch_a1dd8531d7114053ad84080e9bc16dee=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"18+___a1dd8531d7114053ad84080e9bc16dee\";null;"},{"name":"age","applicable":"vaVars.previous_graph_node==\"18+___a1dd8531d7114053ad84080e9bc16dee\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Age___7889c19ff8a74fe890dee7bde4f60a97\";gs.getMessageLang(\"Select your age range\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Age___7889c19ff8a74fe890dee7bde4f60a97\";null;"},{"name":"high_risk_job","applicable":"vaVars.previous_graph_node==\"Age___7889c19ff8a74fe890dee7bde4f60a97\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"High Risk Job___73f29b4d27d449c0bc9ab75c167e201b\";gs.getMessageLang(\"Is your job one that would put you at a higher risk to COVID-19? For example, first responders, nurses, cashier\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"High Risk Job___73f29b4d27d449c0bc9ab75c167e201b\";null;"},{"name":"__silent_ScriptedAction_f14fc42be41a4d39bd43b89e58e768a2","applicable":"vaVars.previous_graph_node==\"Symptoms___3acfda5f0fdb420eaefd19e544ddf544\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Add to list___f14fc42be41a4d39bd43b89e58e768a2\";(function execute() {(function execute() {\n    /* Code your scripted action here. For example, you might update a\n       record based on conditional logic:\n\n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n\n    if (vaInputs.symptoms) {\n        \n        vaVars.all_symptoms += vaInputs.symptoms.getValue() + \",\"\n    }\n})()\n;})();vaInputs.__silent_ScriptedAction_f14fc42be41a4d39bd43b89e58e768a2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Add to list___f14fc42be41a4d39bd43b89e58e768a2\";null;"},{"name":"more_symptoms","applicable":"vaVars.previous_graph_node==\"Add to list___f14fc42be41a4d39bd43b89e58e768a2\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"More Symptoms___c0a95ea481bc48ec8f05b181e5faa892\";gs.getMessageLang(\"Do you have any more symptoms?\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"More Symptoms___c0a95ea481bc48ec8f05b181e5faa892\";null;"},{"name":"__silent_Decision_810835767a33413ea1730c7072b4b32e","applicable":"vaVars.previous_graph_node==\"More Symptoms___c0a95ea481bc48ec8f05b181e5faa892\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___810835767a33413ea1730c7072b4b32e\";vaInputs.__silent_Decision_810835767a33413ea1730c7072b4b32e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___810835767a33413ea1730c7072b4b32e\";null;"},{"name":"__silent_Branch_8a9a7162a6a04929b04d476e5ebff194","applicable":"vaVars.previous_graph_node==\"Decision___810835767a33413ea1730c7072b4b32e\" &amp;&amp; ((vaInputs.more_symptoms.getValue() == false))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No Other Symptoms___8a9a7162a6a04929b04d476e5ebff194\";vaInputs.__silent_Branch_8a9a7162a6a04929b04d476e5ebff194=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"No Other Symptoms___8a9a7162a6a04929b04d476e5ebff194\";null;"},{"name":"__silent_Branch_e81f504eaf8f455fa7c7e79ae5c838ae","applicable":"vaVars.previous_graph_node==\"Decision___810835767a33413ea1730c7072b4b32e\" &amp;&amp; ((vaInputs.more_symptoms.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Additional Symptoms___e81f504eaf8f455fa7c7e79ae5c838ae\";vaInputs.__silent_Branch_e81f504eaf8f455fa7c7e79ae5c838ae=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Additional Symptoms___e81f504eaf8f455fa7c7e79ae5c838ae\";vaInputs.symptoms.reset();null;"},{"name":"symptoms","applicable":"(vaVars.previous_graph_node==\"Additional Symptoms___e81f504eaf8f455fa7c7e79ae5c838ae\" || vaVars.previous_graph_node==\"High Risk Job___73f29b4d27d449c0bc9ab75c167e201b\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Symptoms___3acfda5f0fdb420eaefd19e544ddf544\";(function execute() {vaInputs.__silent_ScriptedAction_fba7a8cf33b8436ea533d4430afe3544.reset();vaInputs.more_symptoms.reset();vaInputs.__silent_Decision_810835767a33413ea1730c7072b4b32e.reset();vaInputs.__silent_Branch_e81f504eaf8f455fa7c7e79ae5c838ae.reset();vaInputs.__silent_ScriptedAction_274f9731ba83421a9ee54f3c6b188dfb.reset();vaInputs.__silent_Branch_8a9a7162a6a04929b04d476e5ebff194.reset();vaInputs.__silent_TerminateGoal_9220112639ce4866b9de4de86a8b4a65.reset();vaInputs.__silent_ScriptOutputPrompt_d0e29a8bdab5404988f4d6f6bad8ab66.reset();vaInputs.__silent_ScriptedAction_f14fc42be41a4d39bd43b89e58e768a2.reset();vaInputs.__silent_OutputPrompt_f77d85ab23cc4000928bfd353f4367db.reset();})();gs.getMessageLang(\"What are your symptoms?\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Symptoms___3acfda5f0fdb420eaefd19e544ddf544\";null;"},{"name":"__silent_ScriptedAction_274f9731ba83421a9ee54f3c6b188dfb","applicable":"vaVars.previous_graph_node==\"No Other Symptoms___8a9a7162a6a04929b04d476e5ebff194\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Create request___274f9731ba83421a9ee54f3c6b188dfb\";(function execute() {(function execute() {\n    vaVars.s = vaVars.all_symptoms;\n    \n    var temp_C = 37.6;\n\n    if (vaVars.s.includes(\"fever\")) {\n        temp_C = 38.5;\n    }\n\n    var reqBody = {\n        \"age\": 99, // todo later\n        \"high_risk_exposure_occupation\": vaInputs.high_risk_job == \"yes\", // todo later\n        \"labored_respiration\": vaVars.s.includes(\"labored_respiration\"), \n        \"wheezes\": vaVars.s.includes(\"wheezes\"), \n        \"cough\": vaVars.s.includes(\"cough\"),\n        \"temperature\": temp_C,\n        \"diarrhea\": vaVars.s.includes(\"diarrhea\"),\n        \"fatigue\": vaVars.s.includes(\"fatigue\"),\n        \"headache\": vaVars.s.includes(\"headache\"),\n        \"loss_of_smell\": vaVars.s.includes(\"loss_of_smell\"),\n        \"loss_of_taste\": vaVars.s.includes(\"loss_of_taste\"),\n        \"runny_nose\": vaVars.s.includes(\"runny_nose\"),\n        \"muscle_sore\": vaVars.s.includes(\"muscle_sore\"),\n        \"sore_throat\": vaVars.s.includes(\"sore_throat\")\n    };\n\n    var reqBodyStr = JSON.stringify(reqBody);\n\n    var r = new sn_ws.RESTMessageV2('x_410019_covid_dia.COVID19 Hackathon', 'Prediction');\n    r.setRequestBody(reqBodyStr);\n\n    //r.setStringParameterNoEscape('reqBody', reqBodyStr);\n\n    var response = r.execute();\n\n    vaVars.predictionResp = response.getBody();\n    vaVars.respCode = response.getStatusCode();\n    gs.debug(response);\n    gs.info(response);\n\n\n})()\n;})();vaInputs.__silent_ScriptedAction_274f9731ba83421a9ee54f3c6b188dfb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Create request___274f9731ba83421a9ee54f3c6b188dfb\";null;"},{"name":"__silent_ScriptedAction_fba7a8cf33b8436ea533d4430afe3544","applicable":"vaVars.previous_graph_node==\"Create request___274f9731ba83421a9ee54f3c6b188dfb\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Determine Risk Level___fba7a8cf33b8436ea533d4430afe3544\";(function execute() {(function execute() {\n    /* Code your scripted action here. For example, you might update a\n       record based on conditional logic:\n\n        if (vaVars.my_flag == 'say hello') {\n            gs.info('hi there');\n        } else {\n            gs.info('bye now');\n        }\n    */\n    // detect if there was an error\n    if (vaVars.respCode != 200) {\n        vaVars.risk_level = -1;\n        return;\n    }\n\n    // [prob_negative, prob_positive]\n    var probabilites = JSON.parse(vaVars.predictionResp)[\"prob\"];\n    var prob_covid = probabilites.split(\" \")[1].split(\"]\")[0]\n    vaVars.s = prob_covid;\n\n    if (prob_covid &lt; 0.02) {\n        vaVars.risk_level = 0;\n    }\n    else if (prob_covid &lt; 0.05) {\n        vaVars.risk_level = 1;\n    }\n    else if (prob_covid &lt; 0.15) {\n        vaVars.risk_level = 2;\n    }\n    else if (prob_covid &gt;= 0.15){\n        vaVars.risk_level = 3;\n    }\n    \n})()\n;})();vaInputs.__silent_ScriptedAction_fba7a8cf33b8436ea533d4430afe3544=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Determine Risk Level___fba7a8cf33b8436ea533d4430afe3544\";null;"},{"name":"__silent_ScriptOutputPrompt_d0e29a8bdab5404988f4d6f6bad8ab66","applicable":"vaVars.previous_graph_node==\"Determine Risk Level___fba7a8cf33b8436ea533d4430afe3544\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Response___d0e29a8bdab5404988f4d6f6bad8ab66\";vaInputs.__silent_ScriptOutputPrompt_d0e29a8bdab5404988f4d6f6bad8ab66=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Response___d0e29a8bdab5404988f4d6f6bad8ab66\";(function execute() {\n   return (function execute() {\n    /***************************************************************\n     YOU CAN OUTPUT A SinglePartOutMsg\n     LIKE THIS:\n\n     var singleOutMsg = new sn_cs.SinglePartOutMsg();\n     singleOutMsg.setTextPart('text part');\n     singleOutMsg.setImagePart('https://docs.servicenow.com/static/custom/logo.svg');\n     singleOutMsg.setHtmlPart('&lt;h1 style=\"color:blue;\"&gt;html part&lt;/h1&gt;');\n     singleOutMsg.setLinkPart('header', 'label', 'link');\n     singleOutMsg.setButtonLinkPart('', 'label', 'link');\n     return singleOutMsg;\n     ****************************************************************/\n\n    /***************************************************************\n     OR YOU CAN OUTPUT A MultiPartOutMsg\n     LIKE THIS:\n\n     var multiOutMsg = new sn_cs.MultiPartOutMsg();\n     multiOutMsg.setNavigationLabel('Click for More');\n     multiOutMsg.addPlainTextPart('text part');\n     multiOutMsg.addHtmlPart('&lt;h1 style=\"color:blue;\"&gt;html part&lt;/h1&gt;');\n     multiOutMsg.addLinkPart('header', 'label', 'link');\n     multiOutMsg.addButtonLinkPart('', 'label', 'link');\n     return multiOutMsg;\n     ****************************************************************/\n\n    /***************************************************************\n     * NOTE: You can include conditional logic when building the\n     * output content. For example, if constructing a sn_cs.MultiPartOutMsg\n     * then you might want to add 3 parts under condition (A) but 7 parts\n     * under condition (B).\n     *\n     * HOWEVER, do NOT include conditional logic that varies the output TYPE.\n     * That is, do NOT include a condition that might return either a\n     * sn_cs.SinglePartOutMsg under condition (A) but returns a\n     * sn_cs.MultiPartOutMsg under condition (B).\n     ****************************************************************/\n\n    var singleOutMsg = new sn_cs.SinglePartOutMsg();\n    var respText = \"\";\n\n    switch (vaVars.risk_level) {\n        case -1:\n          respText = \"Sorry, your response could not be proccess because an error occured. Please try again\";\n          break;\n        case 0:\n          respText = \"The likelyhood of you having COVID-19 are low\";\n          break;\n        case 1:\n          respText = \"The likelyhood of you having COVID-19 are moderate\";\n          break;\n        case 2:\n          respText = \"The likelyhood of you having COVID-19 are high\";\n          break;\n        case 3:\n          respText = \"The likelyhood of you having COVID-19 are very high\";\n          break;\n        default:\n          respText = \"Somebody messed up because this is never supposed to show up\";\n          break;\n    }\n    singleOutMsg.setTextPart(respText);\n\n    return singleOutMsg;\n})();\n})();"},{"name":"__silent_OutputPrompt_f77d85ab23cc4000928bfd353f4367db","applicable":"vaVars.previous_graph_node==\"Response___d0e29a8bdab5404988f4d6f6bad8ab66\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Disclaimer___f77d85ab23cc4000928bfd353f4367db\";vaInputs.__silent_OutputPrompt_f77d85ab23cc4000928bfd353f4367db=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Disclaimer___f77d85ab23cc4000928bfd353f4367db\";(function execute() {return gs.getMessageLang(\"Please note that this recommendation is not a substitution for a diagnosis. If your conditions worsen, please consult a doctor.\", vaContext.getRequesterLang());})();"},{"name":"__silent_TerminateGoal_9220112639ce4866b9de4de86a8b4a65","applicable":"(vaVars.previous_graph_node==\"Too Young___fc949541fffa4fe295bf7be82795219b\" || vaVars.previous_graph_node==\"Disclaimer___f77d85ab23cc4000928bfd353f4367db\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___9220112639ce4866b9de4de86a8b4a65\";vaInputs.__silent_TerminateGoal_9220112639ce4866b9de4de86a8b4a65=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___9220112639ce4866b9de4de86a8b4a65\";vaVars.__segment_trigger_5335f55c78fd406ca9aa1bfafd2bb02a_done=true;null;"},{"name":"__silent_TerminateGoal_9220112639ce4866b9de4de86a8b4a65","applicable":"(vaVars.previous_graph_node==\"Too Young___fc949541fffa4fe295bf7be82795219b\" || vaVars.previous_graph_node==\"Disclaimer___f77d85ab23cc4000928bfd353f4367db\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___9220112639ce4866b9de4de86a8b4a65\";vaInputs.__silent_TerminateGoal_9220112639ce4866b9de4de86a8b4a65=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___9220112639ce4866b9de4de86a8b4a65\";vaVars.__segment_trigger_5335f55c78fd406ca9aa1bfafd2bb02a_done=true;null;"}],"variables_update":[]}],"roles":[],"active":true,"published":true,"library":false,"flexible_conversation_switching":false,"design_category":"","nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"score":0.0,"visible":true,"sys_scope":"3c21f5681baa50104a85fcc8cc4bcbfc","sys_domain":"global","title":"COVID Prediction","nlu_intent_label":"","nlu_model_label":""}</definition>
        <design_category/>
        <fields/>
        <flexible_conversation_switching>false</flexible_conversation_switching>
        <is_system_topic>false</is_system_topic>
        <key_phrases>COVID Prediction</key_phrases>
        <last_published_on>2020-08-08 01:02:29</last_published_on>
        <library>false</library>
        <library_usage>null</library_usage>
        <metaphone>KFT PRTK</metaphone>
        <name>COVID Prediction</name>
        <nlu_intent/>
        <nlu_intent_label/>
        <nlu_model/>
        <nlu_model_label/>
        <nlu_provider/>
        <published>true</published>
        <roles/>
        <sys_class_name>sys_cs_topic</sys_class_name>
        <sys_created_by>gavin</sys_created_by>
        <sys_created_on>2020-08-07 22:14:29</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>2b67887c1ba290104a85fcc8cc4bcbc0</sys_id>
        <sys_mod_count>3</sys_mod_count>
        <sys_name>COVID Prediction</sys_name>
        <sys_package display_value="Covid Diagnoisi" source="x_410019_covid_dia">3c21f5681baa50104a85fcc8cc4bcbfc</sys_package>
        <sys_policy/>
        <sys_scope display_value="Covid Diagnoisi">3c21f5681baa50104a85fcc8cc4bcbfc</sys_scope>
        <sys_update_name>sys_cs_topic_2b67887c1ba290104a85fcc8cc4bcbc0</sys_update_name>
        <sys_updated_by>gavin</sys_updated_by>
        <sys_updated_on>2020-08-08 01:02:29</sys_updated_on>
        <title>COVID Prediction</title>
        <type>STANDARD</type>
        <vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor>
        <visible>true</visible>
    </sys_cs_topic>
    <sys_variable_value action="delete_multiple" query="document_key=2b67887c1ba290104a85fcc8cc4bcbc0"/>
</record_update>
